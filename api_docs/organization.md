# Organization (Организация)

## Создание

`POST /api/organization`

Пример сообщения в Body запроса

```json
{
    "externalId": "externalID1104",
    "name": "testName",
    "shortName": "TN",
    "parentOrganizationExternalId": "EA18ED3A-D804-4F28-BE74-85125511D6E0",
    "isActive": true 
}
```

### Описание полей
|Поле|Тип|Ограничения|Описание|
|----|--------|------------|------------|
|externalId|string| Unique |Внешний идентификатор (опциональный)|
|name|string| - |Название организации|
|shortName|string| - |Аббревиатура|
|parentOrganizationExternalId|string| - |Идентификатор родительской огранизации из таблицы организаций|
|isActive|bool| - |Активен|

### Логика работы

Если при создании возникла ошибка будет возвращён код ```500``` и текст ошибки
В случае, если организация уже существует в БД, то её данные будут обновлены в соответствии с переданными значениями. И будет вовращён статус ```200 OK```
В случае успешного создания, возвращается идентификатор организации и статус ```201 Created```
В теле ответа JSON с идентификатором созданной сущности:

```json
{
    "id": "c8a35627-db25-45e8-a09d-ee7d1c6e8e8c"
}
```

## Обновление

`PUT /api/organization`

```json
{
    "Id": "065D3C46-F3BD-4292-8D5F-002A0DA030C8",
    "externalId": "externalID1104",
    "name": "testName",
    "shortName": "TN",
    "parentOrganizationExternalId": "EA18ED3A-D804-4F28-BE74-85125511D6E0",
    "isActive": true  
}
```

### Описание полей

|Поле|Тип|Ограничения|Описание|
|----|--------|------------|------------|
|Id|string| Unique |Идентификатор организации|

Сущность обновляется целиком (полная замена ресурса), поэтому должным быть заполнены все параметры. Если какой-то из параметров будет отсутствовать в теле запроса, то это будет воспринято как заполнение пустым значением.
</br>

Если при создании возникла ошибка будет возвращён код ```500``` и текст ошибки
В случае успеха будет вовращён статус ```200 OK```

## Удаление

`DELETE /api/organization/{id}`

где `{id}` - идентификатор сущности

### Логика работы

Если при удалении возникнет ошибка, то будет возвращен код ```500```. 
В случае успешного удаления ```200 OK```

## Получение 

#### Получение конкретной записи

`GET /api/organization/{id}`
где `id` - идентификатор сущности

#### Получение всех записей

`GET /api/organization`

#### Получение всех записей, удовлетворяющих фильтру

`GET /api/organization`

В Body запроса передаются значения фильтра в виде

```json
{
    "Id": "EA18ED3A-D804-4F28-BE74-85125511D6E0",
    "name": "testName",
    "externalId": "externalID1104"
}
```

### Логика работы

Если при получении возникнет ошибка, то будет возвращен код ```500``` и текст ошибки 
В случае успешного запроса возвращен статус ```200 OK```, в теле же ответа будут указана организация или массив организаций в формате:


```json
{
    "Id": "065D3C46-F3BD-4292-8D5F-002A0DA030C8",
    "externalId": "externalID1104",
    "name": "testName",
    "shortName": "TN",
    "parentOrganizationExternalId": "EA18ED3A-D804-4F28-BE74-85125511D6E0",
    "isActive": true  
}
```

### Описание полей
|Поле|Тип|Ограничения|Описание|
|----|--------|------------|------------|
|Id|string| Unique |Идентификатор организации|
|externalId|string| Unique |Внешний идентификатор (опциональный)|
|name|string| - |Название организации|
|shortName|string| - |Название организации|
|parentOrganizationExternalId|string| - |Идентификатор родительской огранизации из таблицы организаций|
|isActive|bool| - |Активен|



